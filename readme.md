### 目的
用户提问系统，系统检索数据库，调用大模型，回答用户提问，主要场景有住房等

### 难点
1. deepseek大模型的api接口暂时不支持联网搜索，如果需要联网搜索功能，一般有两种做法：  
- 先经过搜索引擎再把信息传给大模型进行回答  
- 使用function calling + 搜索引擎API，让大模型自己决定是否需要使用联网功能。  

    搜索引擎方案有：duckduckgo（免费 ），必应或谷歌的api（付费但效果好）

2. 系统如何对用户的提问做到自动识别关键词，再模糊查询数据库。  
目前能想到的方法是进行分词、建立关键词表。

3. 把数据库调用的结果作为prompt传给大模型会消耗token，尤其在超大型数据库情况下，造成api费用很高，因此考虑使用mcp方法，旨在让大模型在查询数据时，自动从外部数据源中获取所需的信息。（未实现）

### demo做了什么
运行方法：  
```
conda create -n test python=3.13    
conda activate test  
pip install -r requirements.txt  
python app.py
```  

数据库设定参考 database_sample.png

调用了deepseek的对话补全模型，提前写好关键词表，以此为根据分词，然后模糊查询数据库（需知道数据库表结构），将查询结果和提前写好的提示词拼接送给大模型，不进行联网搜索，回答结果。数据库是建立在本地的住房数据库样例。

提问示例：

我想要上海的房子，价格在5000元到7000元之间，最好朝南。  
要求广州或者深圳的房子，适合一个人住。
